{"version":3,"sources":["utils/constans.js","hooks/useFetch.js","components/Error.js","components/Formulario.js","components/Imagen.js","components/Spinner.js","components/ListadoImagenes.js","App.js","reportWebVitals.js","index.js"],"names":["URL","useFetch","busqueda","imagenesPorPaginas","pagina","useState","loading","setLoading","result","setResult","error","setError","useEffect","a","fetch","encodeURI","resp","json","Error","message","className","Formulario","setBuqueda","setThereImages","termino","setTermino","onSubmit","e","preventDefault","type","placeholder","value","onChange","target","trim","Imagen","imagen","largeImageURL","likes","previewURL","tags","views","src","alt","href","rel","SkChase","styled","div","SkChaseDot","Spinner","ListadoImagenes","results","calcularTotalPaginas","totalHits","hits","map","id","App","thereImages","paginaActual","setPaginaActual","totalPaginas","setTotalPaginas","Math","ceil","onClick","nuevaPagina","style","marginTop","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b23d97a4.chunk.js","sourcesContent":["const API_KEY               = `18852160-36a1004710f1f2896f7bfc714`;\r\nconst URL                   = `https://pixabay.com/api/?key=${ API_KEY }`;\r\n\r\nexport {\r\n    URL\r\n}","import { useState, useEffect } from 'react';\r\n\r\nimport { URL } from '../utils/constans';\r\n\r\nconst useFetch = ( busqueda, imagenesPorPaginas, pagina ) => {\r\n\r\n    const [ loading, setLoading ] = useState( true );\r\n    const [ result, setResult ] = useState( null );\r\n    const [ error, setError ] = useState( null );\r\n    \r\n\r\n    useEffect( () => {\r\n\r\n\t\t( async () => {\r\n            \r\n            if( !busqueda ) return { loading, result, error, setLoading };\r\n\r\n            try {\r\n\r\n                const resp = await fetch( `${ URL }&q=${ encodeURI( busqueda ) }&per_page=${ imagenesPorPaginas }&page=${ pagina }` );\r\n                const json = await resp.json();\r\n\r\n                setResult( json );\r\n\r\n            } catch( err ) {\r\n\r\n                setError( err );\r\n\r\n            } finally {\r\n\r\n                setLoading( false );\r\n\r\n            }\r\n\r\n\t\t})();\r\n\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [ busqueda, pagina ] );\r\n\r\n    return { loading, result, error, setLoading };\r\n};\r\n\r\nexport default useFetch;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Error = ({ message }) => (\r\n    <p className=\"my-3 p-4 text-center alert alert-primary\">\r\n        { message }\r\n    </p>\r\n);\r\n\r\nError.propTypes = {\r\n    message: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Error;","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Error from './Error';\r\n\r\nconst Formulario = ({ setBuqueda, setLoading, setThereImages }) => {\r\n\r\n    const [ termino, setTermino ]   = useState( '' );\r\n    const [ error, setError ]       = useState( false );\r\n\r\n    const buscarImagenes = e => {\r\n        e.preventDefault();\r\n\r\n        // Validar\r\n        if( !termino ) {\r\n            setError( true );\r\n            return;\r\n        }\r\n        \r\n        setError( false );\r\n\r\n        // Cambia de estado cuando hay imagenes que mostrar\r\n        setThereImages( true );\r\n\r\n        // Enviar el termino de busqueda\r\n        setLoading( true );\r\n        setBuqueda( termino );\r\n        setTermino( '' );\r\n    };\r\n\r\n    return (\r\n        <form\r\n            onSubmit={ buscarImagenes }\r\n        >\r\n            <div className=\"row\">\r\n                <div className=\"form-group col-md-8\">\r\n                    <input\r\n                        className=\"form-control form-control-lg\"\r\n                        type=\"text\"\r\n                        placeholder=\"Ejemplo: Café\"\r\n                        value={ termino }\r\n                        onChange={ e => setTermino( e.target.value.trim() ) }\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"form-group col-md-4\">\r\n                    <input\r\n                        className=\"btn btn-lg btn-danger btn-block\"\r\n                        type=\"submit\"\r\n                        value=\"Buscar\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            { error && <Error message='Agrega un término de búsqueda' /> }\r\n        </form>\r\n    );\r\n};\r\n\r\nFormulario.propTypes = {\r\n    setBuqueda: PropTypes.func.isRequired,\r\n    setLoading: PropTypes.func.isRequired,\r\n    setThereImages: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Formulario;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Imagen = ({ imagen }) => {\r\n\r\n    const { largeImageURL, likes, previewURL, tags, views } = imagen;\r\n\r\n    return (\r\n        <div className=\"col-12 col-sm-6 col-md-4 col-lg-3 mb-4\">\r\n            <div className=\"card\">\r\n                <img className=\"card-img-top\" src={ previewURL } alt={ tags } />\r\n\r\n                <div className=\"card-body\">\r\n                    <p className=\"card-text\">{ likes } Me Gusta</p>\r\n                    <p className=\"card-text\">{ views } Vistas</p>\r\n                </div>\r\n\r\n                <div className=\"card-footer\">\r\n                    <a \r\n                        href={ largeImageURL } \r\n                        target=\"_blank\"     \r\n                        rel=\"noopener noreferrer\"  \r\n                        className=\"btn btn-primary btn-block\"\r\n                    >Ver Imagen</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nImagen.propTypes ={\r\n    imagen: PropTypes.object.isRequired\r\n};\r\n\r\nexport default Imagen;","import React from 'react';\r\nimport styled from '@emotion/styled';\r\n\r\nconst SkChase = styled.div`\r\n    width: 40px;\r\n    height: 40px;\r\n    margin-top: 150px;\r\n    position: relative;\r\n    animation: sk-chase 2.5s infinite linear both;\r\n\r\n    @keyframes sk-chase {\r\n        100% { transform: rotate(360deg); } \r\n    }\r\n`;\r\n\r\nconst SkChaseDot = styled.div`\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    animation: sk-chase-dot 2.0s infinite ease-in-out both; \r\n\r\n    @keyframes sk-chase-dot {\r\n        80%, 100% { transform: rotate(360deg); } \r\n    }\r\n\r\n    &::before {\r\n        content: '';\r\n        display: block;\r\n        width: 25%;\r\n        height: 25%;\r\n        background-color: #000;\r\n        border-radius: 100%;\r\n        animation: sk-chase-dot-before 2.0s infinite ease-in-out both;\r\n\r\n        @keyframes sk-chase-dot-before {\r\n            50% {\r\n              transform: scale(0.4); \r\n            } 100%, 0% {\r\n              transform: scale(1.0); \r\n            } \r\n        }\r\n    }\r\n\r\n    &:nth-of-type(1) {\r\n        animation-delay: -1.1s;\r\n        &:before { animation-delay: -1.1s; }\r\n    }\r\n\r\n    &:nth-of-type(2) { \r\n        animation-delay: -1.0s;\r\n        &:before { animation-delay: -1.0s; }\r\n    }\r\n\r\n    &:nth-of-type(3) {\r\n        animation-delay: -0.9s;\r\n        &:before { animation-delay: -0.9s; }\r\n    }\r\n    \r\n    &:nth-of-type(4) { \r\n        animation-delay: -0.8s; \r\n        &:before { animation-delay: -0.8s; }\r\n    }\r\n\r\n    &:nth-of-type(5) { \r\n        animation-delay: -0.7s;\r\n        &:before { animation-delay: -0.7s; }\r\n    }\r\n\r\n    &:nth-of-type(6) { \r\n        animation-delay: -0.6s;\r\n        &:before { animation-delay: -0.6s; }\r\n    }\r\n`;\r\n\r\nconst Spinner = () => (\r\n    <SkChase>\r\n        <SkChaseDot></SkChaseDot>\r\n        <SkChaseDot></SkChaseDot>\r\n        <SkChaseDot></SkChaseDot>\r\n        <SkChaseDot></SkChaseDot>\r\n        <SkChaseDot></SkChaseDot>\r\n        <SkChaseDot></SkChaseDot>\r\n    </SkChase>\r\n);\r\n\r\nexport default Spinner;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Imagen from './Imagen';\r\nimport Spinner from './Spinner';\r\n\r\nconst ListadoImagenes = ({ results, calcularTotalPaginas }) => {\r\n\r\n    const { loading, result } = results;\r\n\r\n    if( loading || !result ) return <Spinner />;\r\n\r\n    const { totalHits, hits } = result;\r\n    calcularTotalPaginas( totalHits );\r\n\r\n    return (\r\n        <div className=\"col-12 p-5 row\">\r\n            {\r\n                hits.map( imagen => (\r\n                    <Imagen \r\n                        key={ imagen.id }\r\n                        imagen={ imagen }\r\n                    />\r\n                ))                   \r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nListadoImagenes.propTypes = {\r\n    results: PropTypes.object.isRequired,\r\n    calcularTotalPaginas: PropTypes.func.isRequired\r\n};\r\n\r\nexport default ListadoImagenes;","import React, { useState } from 'react';\n\nimport useFetch from './hooks/useFetch';\n\nimport Formulario from './components/Formulario';\nimport ListadoImagenes from './components/ListadoImagenes';\n\nfunction App() {\n\n\tconst [ busqueda, setBuqueda ] \t\t\t= useState( '' );\n\tconst [ thereImages, setThereImages ] \t= useState( false ); \n\tconst [ paginaActual, setPaginaActual ] = useState( 1 );\n\tconst [ totalPaginas, setTotalPaginas ] = useState( 1 );\n\n\tconst results = useFetch( busqueda, 30, paginaActual );\n\n\tconst calcularTotalPaginas = totalHits => setTotalPaginas( Math.ceil( totalHits / 30 ) ); \n\n\tconst paginaAnterior = () => {\n\t\tconst nuevaPagina = paginaActual - 1;\n\n\t\tif( !nuevaPagina ) return;\n\n\t\tresults.setLoading( true );\n\t\tsetPaginaActual( nuevaPagina );\n\t};\n\t\n\tconst paginaSiguiente = () => {\n\t\tconst nuevaPagina = paginaActual + 1;\n\t\t\n\t\tif( nuevaPagina > totalPaginas ) return;\n\t\t\n\t\tresults.setLoading( true );\n\t\tsetPaginaActual( nuevaPagina );\n\t};\n\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<div className=\"jumbotron\">\n\t\t\t\t<p className=\"lead text-center\">Buscador de Imágenes</p>\n\t\t\t\n\t\t\t\t<Formulario \n\t\t\t\t\tsetBuqueda={ setBuqueda }\n\t\t\t\t\tsetLoading={ results.setLoading } \n\t\t\t\t\tsetThereImages={ setThereImages }\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<div className=\"row justify-content-center\">\n\t\t\t\t{ thereImages ?\n\t\t\t\t\t(\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<ListadoImagenes \n\t\t\t\t\t\t\t\tresults={ results }\n\t\t\t\t\t\t\t\tcalcularTotalPaginas={ calcularTotalPaginas }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ ( results.result && !results.loading ) &&\n\t\t\t\t\t\t\t \t(\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t( paginaActual > 1 ) && \n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={ paginaAnterior }\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-info mr-1\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t>&laquo; Anterior</button>\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t( paginaActual < totalPaginas ) &&\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={ paginaSiguiente }\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-info\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t>Siguiente &raquo;</button>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t \t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)\n\t\t\t\t\t:\n\t\t\t\t\t\t<p style={{ marginTop: 150 }}>Realiza una búsqueda...</p>\n\t\t\t\t}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}